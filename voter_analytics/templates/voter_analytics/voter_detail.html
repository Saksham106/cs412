<!--
  File: voter_analytics/templates/voter_analytics/voter_detail.html
  Author: Saksham Goel (sakshamg@bu.edu), 10/28/2025
  Description: Template for displaying details of a single voter.
-->

{% extends 'voter_analytics/base.html' %}

{% block content %}
<div class="container">
    <!-- table of voter details -->
    <h1>Showing Voter: {{ voter.first_name }} {{ voter.last_name }}</h1>
    <table>
        <tr>
            <th>Name</th>
            <th>Address</th>
            <th>Zip Code</th>
            <th>Date of Birth</th>
            <th>Registration Date</th>
            <th>Party</th>
            <th>Precinct</th>
            <th>Voter Score</th>
        </tr>
        <tr>
            <td>{{ voter.first_name }} {{ voter.last_name }}</td>
            <td>{{ voter.street_number }} {{ voter.street_name }}{% if voter.apt_number %} Apt {{ voter.apt_number }}{% endif %}</td>
            <td>{{ voter.zip_code }}</td>
            <td>{{ voter.date_of_birth }}</td>
            <td>{{ voter.date_of_registration }}</td>
            <td>{{ voter.party }}</td>
            <td>{{ voter.precinct }}</td>
            <td>{{ voter.voter_score }}</td>
        </tr>
    </table>
</div>

<!-- table of election participation -->
<div class="container">
    <div class="row">
        <h2>Election Participation</h2>
        <table>
            <tr>
                <th>2020 State</th>
                <th>2021 Town</th>
                <th>2021 Primary</th>
                <th>2022 General</th>
                <th>2023 Town</th>
            </tr>
            <tr>
                <td>{% if voter.v20state %}Yes{% else %}No{% endif %}</td>
                <td>{% if voter.v21town %}Yes{% else %}No{% endif %}</td>
                <td>{% if voter.v21primary %}Yes{% else %}No{% endif %}</td>
                <td>{% if voter.v22general %}Yes{% else %}No{% endif %}</td>
                <td>{% if voter.v23town %}Yes{% else %}No{% endif %}</td>
            </tr>
        </table>
    </div>
</div>

<!-- Google Maps link and back to voter list link -->
<div class="container">
    <div class="row">
        <p>
            <a target="_blank" href="https://www.google.com/maps/search/?api=1&query={{ voter.street_number|default_if_none:""|add:" "|add:voter.street_name|add:" "|add:voter.zip_code|urlencode }}">
                Open {{ voter.first_name }} {{ voter.last_name }}'s address in Google Maps
            </a>
        </p>
        
        <p>
            <a href="{% url 'voters' %}">Back to Voter List</a>
        </p>
    </div>
</div>
{% endblock %}
